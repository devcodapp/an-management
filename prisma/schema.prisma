// *** GENERATED BY PRISMIX :: DO NOT EDIT ***
datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Additional {
  id          String                  @id @map("_id")
  name        String
  price       Float
  imageUrl    String
  imageId     String
  categoryId  String
  createdUser String
  createdAt   DateTime                @default(now())
  deletedUser String?
  deletedAt   DateTime?
  deleted     Boolean                 @default(false)
  category    CategoryAdditional      @relation(name: "AdditionalToCategoryAdditional", fields: [categoryId], references: [id])
  products    AdditionalsOnProducts[] @relation(name: "AdditionalToAdditionalsOnProducts")
}

model CategoryAdditional {
  id          String       @id @map("_id")
  additionals Additional[] @relation(name: "AdditionalToCategoryAdditional")
  name        String
  order       Int
  companyId   String
  createdUser String
  createdAt   DateTime     @default(now())
  deletedUser String?
  deletedAt   DateTime?
  deleted     Boolean      @default(false)
  company     Company      @relation(name: "CategoryAdditionalToCompany", fields: [companyId], references: [id])
}

model Company {
  id                  String               @id @map("_id")
  categoryAdditionals CategoryAdditional[] @relation(name: "CategoryAdditionalToCompany")
  categoryProducts    CategoryProduct[]    @relation(name: "CategoryProductToCompany")
  name                String
  description         String
  tags                String[]
  type                String
  address             Json?
  isOpened            Boolean              @default(false)
  openAt              String?
  closeAt             String?
  imageId             String?
  imageUrl            String?
  createdAt           DateTime             @default(now())
  disabledAt          DateTime?
  disabled            Boolean              @default(false)
  coupons             Coupon[]             @relation(name: "CompanyToCoupon")
  options             Option[]             @relation(name: "CompanyToOption")
  tables              Table[]              @relation(name: "CompanyToTable")
  users               User[]               @relation(name: "CompanyToUser")
}

model CategoryProduct {
  id          String    @id @map("_id")
  name        String
  description String
  order       Int
  imageId     String
  imageUrl    String
  enabled     Boolean   @default(false)
  createdUser String
  createdAt   DateTime  @default(now())
  deletedUser String?
  deletedAt   DateTime?
  deleted     Boolean   @default(false)
  company     Company   @relation(name: "CategoryProductToCompany", fields: [companyId], references: [id])
  companyId   String
  product     Product[] @relation(name: "CategoryProductToProduct")
}

model Coupon {
  id                 String    @id @map("_id")
  title              String
  description        String
  code               String
  discountValue      Float?
  discountPercentage Float?
  discountLimit      Float?
  expiresIn          DateTime
  createdUser        String
  createdAt          DateTime  @default(now())
  deletedUser        String?
  deletedAt          DateTime?
  deleted            Boolean   @default(false)
  companyId          String
  company            Company   @relation(name: "CompanyToCoupon", fields: [companyId], references: [id])
}

model Option {
  id           String    @id @map("_id")
  name         String
  description  String
  defaultPrice Float?
  suboptions   Json[]
  companyId    String
  createdUser  String
  createdAt    DateTime  @default(now())
  deletedUser  String?
  deletedAt    DateTime?
  deleted      Boolean   @default(false)
  disabledAt   DateTime?
  disabled     Boolean   @default(false)
  company      Company   @relation(name: "CompanyToOption", fields: [companyId], references: [id])
}

model Product {
  id          String                  @id @map("_id")
  name        String
  description String
  price       Float
  sku         String
  variants    Json[]
  images      Json[]
  createdUser String
  createdAt   DateTime                @default(now())
  deletedUser String?
  deletedAt   DateTime?
  deleted     Boolean                 @default(false)
  disabledAt  DateTime?
  disabled    Boolean                 @default(false)
  categoryId  String
  additionals AdditionalsOnProducts[] @relation(name: "AdditionalsOnProductsToProduct")
  category    CategoryProduct?        @relation(name: "CategoryProductToProduct", fields: [categoryId], references: [id])
}

model AdditionalsOnProducts {
  id           String      @id @map("_id")
  additional   Additional? @relation(name: "AdditionalToAdditionalsOnProducts", fields: [additionalId], references: [id])
  additionalId String?
  product      Product?    @relation(name: "AdditionalsOnProductsToProduct", fields: [productId], references: [id])
  productId    String?
}

model Table {
  id             String    @id @map("_id")
  name           String
  amountOfChairs Float
  disabledAt     DateTime?
  createdUser    String
  createdAt      DateTime  @default(now())
  deletedUser    String?
  deletedAt      DateTime?
  deleted        Boolean   @default(false)
  company        Company   @relation(name: "CompanyToTable", fields: [companyId], references: [id])
  companyId      String
}

model Worker {
  id          String    @id @map("_id")
  name        String
  role        String
  imageId     String?
  imageUrl    String?
  createdUser String
  createdAt   DateTime  @default(now())
  deletedUser String?
  deletedAt   DateTime?
  deleted     Boolean   @default(false)
  userId      String
  user        User      @relation(name: "UserToWorker", fields: [userId], references: [id])
}

model User {
  id             String    @id @map("_id")
  workers        Worker[]  @relation(name: "UserToWorker")
  username       String
  email          String
  password       String
  changePassword Boolean   @default(true)
  deletedAt      DateTime?
  company        Company   @relation(name: "CompanyToUser", fields: [companyId], references: [id])
  companyId      String
}
